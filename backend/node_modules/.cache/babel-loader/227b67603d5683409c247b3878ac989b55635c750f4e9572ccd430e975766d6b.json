{"ast":null,"code":"export class CarouselController {\n  constructor({\n    intervalMs = 4500\n  } = {}) {\n    this.state = {\n      index: 0,\n      playing: true\n    };\n    this.intervalMs = intervalMs;\n    this._timer = null;\n    this._subs = new Set();\n  }\n  subscribe(fn) {\n    this._subs.add(fn);\n    try {\n      fn(this.snapshot());\n    } catch {}\n    return () => this._subs.delete(fn);\n  }\n  _emit() {\n    const s = this.snapshot();\n    for (const fn of this._subs) fn(s);\n  }\n  snapshot() {\n    return {\n      ...this.state\n    };\n  }\n  next(total) {\n    this.state.index = (this.state.index + 1) % total;\n    this._emit();\n  }\n  prev(total) {\n    this.state.index = (this.state.index - 1 + total) % total;\n    this._emit();\n  }\n  goTo(i, total) {\n    this.state.index = (i % total + total) % total;\n    this._emit();\n  }\n  play(total) {\n    if (this._timer) return;\n    this.state.playing = true;\n    this._emit();\n    this._timer = setInterval(() => this.next(total), this.intervalMs);\n  }\n  pause() {\n    this.state.playing = false;\n    this._emit();\n    if (this._timer) {\n      clearInterval(this._timer);\n      this._timer = null;\n    }\n  }\n  destroy() {\n    this.pause();\n    this._subs.clear();\n  }\n}","map":{"version":3,"names":["CarouselController","constructor","intervalMs","state","index","playing","_timer","_subs","Set","subscribe","fn","add","snapshot","delete","_emit","s","next","total","prev","goTo","i","play","setInterval","pause","clearInterval","destroy","clear"],"sources":["C:/Users/maico/OneDrive/Documentos/a/backend/src/controllers/CarouselController.js"],"sourcesContent":["export class CarouselController {\r\n    constructor({ intervalMs = 4500 } = {}) {\r\n        this.state = { index: 0, playing: true };\r\n        this.intervalMs = intervalMs;\r\n        this._timer = null;\r\n        this._subs = new Set();\r\n    }\r\n\r\n    subscribe(fn) { this._subs.add(fn); try { fn(this.snapshot()); } catch { } return () => this._subs.delete(fn); }\r\n    _emit() { const s = this.snapshot(); for (const fn of this._subs) fn(s); }\r\n    snapshot() { return { ...this.state }; }\r\n    next(total) { this.state.index = (this.state.index + 1) % total; this._emit(); }\r\n    prev(total) { this.state.index = (this.state.index - 1 + total) % total; this._emit(); }\r\n    goTo(i, total) { this.state.index = ((i % total) + total) % total; this._emit(); }\r\n\r\n    play(total) {\r\n        if (this._timer) return;\r\n        this.state.playing = true; this._emit();\r\n        this._timer = setInterval(() => this.next(total), this.intervalMs);\r\n    }\r\n    pause() {\r\n        this.state.playing = false; this._emit();\r\n        if (this._timer) { clearInterval(this._timer); this._timer = null; }\r\n    }\r\n    destroy() { this.pause(); this._subs.clear(); }\r\n}"],"mappings":"AAAA,OAAO,MAAMA,kBAAkB,CAAC;EAC5BC,WAAWA,CAAC;IAAEC,UAAU,GAAG;EAAK,CAAC,GAAG,CAAC,CAAC,EAAE;IACpC,IAAI,CAACC,KAAK,GAAG;MAAEC,KAAK,EAAE,CAAC;MAAEC,OAAO,EAAE;IAAK,CAAC;IACxC,IAAI,CAACH,UAAU,GAAGA,UAAU;IAC5B,IAAI,CAACI,MAAM,GAAG,IAAI;IAClB,IAAI,CAACC,KAAK,GAAG,IAAIC,GAAG,CAAC,CAAC;EAC1B;EAEAC,SAASA,CAACC,EAAE,EAAE;IAAE,IAAI,CAACH,KAAK,CAACI,GAAG,CAACD,EAAE,CAAC;IAAE,IAAI;MAAEA,EAAE,CAAC,IAAI,CAACE,QAAQ,CAAC,CAAC,CAAC;IAAE,CAAC,CAAC,MAAM,CAAE;IAAE,OAAO,MAAM,IAAI,CAACL,KAAK,CAACM,MAAM,CAACH,EAAE,CAAC;EAAE;EAC/GI,KAAKA,CAAA,EAAG;IAAE,MAAMC,CAAC,GAAG,IAAI,CAACH,QAAQ,CAAC,CAAC;IAAE,KAAK,MAAMF,EAAE,IAAI,IAAI,CAACH,KAAK,EAAEG,EAAE,CAACK,CAAC,CAAC;EAAE;EACzEH,QAAQA,CAAA,EAAG;IAAE,OAAO;MAAE,GAAG,IAAI,CAACT;IAAM,CAAC;EAAE;EACvCa,IAAIA,CAACC,KAAK,EAAE;IAAE,IAAI,CAACd,KAAK,CAACC,KAAK,GAAG,CAAC,IAAI,CAACD,KAAK,CAACC,KAAK,GAAG,CAAC,IAAIa,KAAK;IAAE,IAAI,CAACH,KAAK,CAAC,CAAC;EAAE;EAC/EI,IAAIA,CAACD,KAAK,EAAE;IAAE,IAAI,CAACd,KAAK,CAACC,KAAK,GAAG,CAAC,IAAI,CAACD,KAAK,CAACC,KAAK,GAAG,CAAC,GAAGa,KAAK,IAAIA,KAAK;IAAE,IAAI,CAACH,KAAK,CAAC,CAAC;EAAE;EACvFK,IAAIA,CAACC,CAAC,EAAEH,KAAK,EAAE;IAAE,IAAI,CAACd,KAAK,CAACC,KAAK,GAAG,CAAEgB,CAAC,GAAGH,KAAK,GAAIA,KAAK,IAAIA,KAAK;IAAE,IAAI,CAACH,KAAK,CAAC,CAAC;EAAE;EAEjFO,IAAIA,CAACJ,KAAK,EAAE;IACR,IAAI,IAAI,CAACX,MAAM,EAAE;IACjB,IAAI,CAACH,KAAK,CAACE,OAAO,GAAG,IAAI;IAAE,IAAI,CAACS,KAAK,CAAC,CAAC;IACvC,IAAI,CAACR,MAAM,GAAGgB,WAAW,CAAC,MAAM,IAAI,CAACN,IAAI,CAACC,KAAK,CAAC,EAAE,IAAI,CAACf,UAAU,CAAC;EACtE;EACAqB,KAAKA,CAAA,EAAG;IACJ,IAAI,CAACpB,KAAK,CAACE,OAAO,GAAG,KAAK;IAAE,IAAI,CAACS,KAAK,CAAC,CAAC;IACxC,IAAI,IAAI,CAACR,MAAM,EAAE;MAAEkB,aAAa,CAAC,IAAI,CAAClB,MAAM,CAAC;MAAE,IAAI,CAACA,MAAM,GAAG,IAAI;IAAE;EACvE;EACAmB,OAAOA,CAAA,EAAG;IAAE,IAAI,CAACF,KAAK,CAAC,CAAC;IAAE,IAAI,CAAChB,KAAK,CAACmB,KAAK,CAAC,CAAC;EAAE;AAClD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}