{"ast":null,"code":"// src/models/formulas/index.js\n\n// === Orden por defecto (fallback) en la vista si una variante no define el suyo ===\nconst DEFAULT_OUTPUT_KEYS = [\"L6\", \"L12\", \"L10\", \"L11\", \"L14\", \"L26\", \"L16\", \"L18\", \"L19\", \"L20\", \"L21\", \"L22\", \"L23\", \"L24\", \"L25\", \"L27\", \"L34\", \"L32\", \"L33\", \"L41\", \"L39\", \"L40\", \"L42\", \"L49\", \"L47\", \"L48\", \"L56\", \"L54\", \"L55\", \"L63\", \"L61\", \"L62\", \"L70\", \"L68\", \"L69\", \"L77\", \"L75\", \"L76\", \"L84\", \"L82\", \"L83\", \"L91\", \"L89\", \"L90\", \"L98\", \"L96\", \"L97\", \"L105\", \"L103\", \"L104\", \"L112\", \"L110\", \"L111\", \"L114\", \"L116\", \"L118\", \"L120\", \"L122\"];\n\n// === Helpers: construir clave de selección\nfunction buildKey({\n  raza,\n  sistema,\n  sexo\n}) {\n  const r = String(raza || \"\").trim().toLowerCase();\n  const s = String(sistema || \"\").trim().toLowerCase();\n  const x = String(sexo || \"\").trim().toLowerCase();\n  return `${r}|${s}|${x}`;\n}\n\n// === Normalizador universal: convierte cualquier prefijo a Lnn (L tiene prioridad)\nconst PREFIX_PRIORITY = [\"L\", \"M\", \"N\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\"];\nfunction normalizeRawToL(raw) {\n  const out = {};\n  for (let n = 6; n <= 122; n++) {\n    let val;\n    for (const pre of PREFIX_PRIORITY) {\n      const k = `${pre}${n}`;\n      if (raw[k] !== undefined) {\n        val = raw[k];\n        break;\n      }\n    }\n    if (typeof val === \"string\" && val.trim() !== \"\" && !Number.isNaN(+val)) val = +val;\n    out[`L${n}`] = val;\n  }\n  return out;\n}\n\n// === Helpers para variables de control (P8 / P14 / Q14 / R14)\nfunction computeR3(ctx) {\n  const {\n    P3,\n    Q3\n  } = ctx;\n  return (Number(P3) + Number(Q3)) / 2;\n}\nfunction computeP8(ctx) {\n  const R3 = computeR3(ctx);\n  return 0.8915 * Math.pow(R3, 1.0151);\n}\nfunction computeP14(ctx) {\n  const R3 = computeR3(ctx);\n  return 0.8915 * Math.pow(R3, 1.0151);\n}\nfunction computeQ14(ctx) {\n  const R3 = computeR3(ctx);\n  return 0.8915 * Math.pow(R3, 1.0151);\n}\nfunction computeR14(ctx) {\n  const R3 = computeR3(ctx);\n  return 0.9247 * Math.pow(R3, 1.0085);\n}\n\n// === Mapa de fórmulas por selección\nconst FORMULA_MAP = {\n  // f1 — Cebú / Pastoreo\n  \"cebu|pastoreo|macho_entero\": {\n    loader: () => import(\"./f1.model.js\"),\n    variant: \"f1\"\n  },\n  \"cebu|pastoreo|macho_castrado\": {\n    loader: () => import(\"./f1.model.js\"),\n    variant: \"f1\"\n  },\n  \"cebu|pastoreo|hembra\": {\n    loader: () => import(\"./f1.model.js\"),\n    variant: \"f1\"\n  },\n  // f2 — Cruzado Carne / Pastoreo\n  \"cruzadocarne|pastoreo|macho_entero\": {\n    loader: () => import(\"./f2.model.js\"),\n    variant: \"f2\"\n  },\n  \"cruzadocarne|pastoreo|macho_castrado\": {\n    loader: () => import(\"./f2.model.js\"),\n    variant: \"f2\"\n  },\n  \"cruzadocarne|pastoreo|hembra\": {\n    loader: () => import(\"./f2.model.js\"),\n    variant: \"f2\"\n  },\n  // f3 — Cruzado Leche / Pastoreo\n  \"cruzadoleche|pastoreo|macho_entero\": {\n    loader: () => import(\"./f3.model.js\"),\n    variant: \"f3\"\n  },\n  \"cruzadoleche|pastoreo|macho_castrado\": {\n    loader: () => import(\"./f3.model.js\"),\n    variant: \"f3\"\n  },\n  \"cruzadoleche|pastoreo|hembra\": {\n    loader: () => import(\"./f3.model.js\"),\n    variant: \"f3\"\n  },\n  // f4 — Cebú / Estabulación\n  \"cebu|estabulacion|macho_entero\": {\n    loader: () => import(\"./f4.model.js\"),\n    variant: \"f4\"\n  },\n  // f5 — Cebú / Estabulación\n  \"cebu|estabulacion|macho_castrado\": {\n    loader: () => import(\"./f5.model.js\"),\n    variant: \"f5\"\n  },\n  // f6 — Cebú / Estabulación  ← NUEVO\n  \"cebu|estabulacion|hembra\": {\n    loader: () => import(\"./f6.model.js\"),\n    variant: \"f6\"\n  },\n  // f7–f9 — Cruzado Carne / Estabulación  ← NUEVOS\n  \"cruzadocarne|estabulacion|macho_entero\": {\n    loader: () => import(\"./f7.model.js\"),\n    variant: \"f7\"\n  },\n  \"cruzadocarne|estabulacion|macho_castrado\": {\n    loader: () => import(\"./f8.model.js\"),\n    variant: \"f8\"\n  },\n  \"cruzadocarne|estabulacion|hembra\": {\n    loader: () => import(\"./f9.model.js\"),\n    variant: \"f9\"\n  },\n  // f10–f12 — Cruzado Leche / Estabulación  ← NUEVOS\n  \"cruzadoleche|estabulacion|macho_entero\": {\n    loader: () => import(\"./f10.model.js\"),\n    variant: \"f10\"\n  },\n  \"cruzadoleche|estabulacion|macho_castrado\": {\n    loader: () => import(\"./f11.model.js\"),\n    variant: \"f11\"\n  },\n  \"cruzadoleche|estabulacion|hembra\": {\n    loader: () => import(\"./f12.model.js\"),\n    variant: \"f12\"\n  }\n};\n\n// === Orden por variante ===\n// f1 ya definido con L*; f4 definido con tu lista B* (convertida a L*). Añade f5…f12 cuando tengas sus órdenes.\nconst ORDER_BY_VARIANT_RAW = {\n  f1: [\"L6\", \"L12\", \"L10\", \"L11\", \"L14\", \"L26\", \"L16\", \"L18\", \"L19\", \"L20\", \"L21\", \"L22\", \"L23\", \"L24\", \"L25\", \"L27\", \"L34\", \"L32\", \"L33\", \"L41\", \"L39\", \"L40\", \"L42\", \"L49\", \"L47\", \"L48\", \"L56\", \"L54\", \"L55\", \"L63\", \"L61\", \"L62\", \"L70\", \"L68\", \"L69\", \"L77\", \"L75\", \"L76\", \"L84\", \"L82\", \"L83\", \"L91\", \"L89\", \"L90\", \"L98\", \"L96\", \"L97\", \"L105\", \"L103\", \"L104\", \"L112\", \"L110\", \"L111\", \"L114\", \"L116\", \"L118\", \"L120\", \"L122\"],\n  f2: [\"M6\", \"L12\", \"L10\", \"L11\", \"M14\", \"M26\", \"M16\", \"L18\", \"L19\", \"M20\", \"M21\", \"M22\", \"M23\", \"M24\", \"M25\", \"M27\", \"M34\", \"M32\", \"M33\", \"M41\", \"M39\", \"M40\", \"M42\", \"M49\", \"M47\", \"M48\", \"M56\", \"M54\", \"M55\", \"M63\", \"M61\", \"M62\", \"L70\", \"L68\", \"L69\", \"L77\", \"L75\", \"L76\", \"L84\", \"L82\", \"L83\", \"L91\", \"L89\", \"L90\", \"L98\", \"L96\", \"L97\", \"L105\", \"L103\", \"L104\", \"L112\", \"L110\", \"L111\", \"M114\", \"M116\", \"M118\", \"M120\", \"M122\"],\n  f3: [\"N6\", \"L12\", \"L10\", \"L11\", \"M14\", \"N26\", \"N16\", \"L18\", \"L19\", \"N20\", \"N21\", \"N22\", \"N23\", \"N24\", \"N25\", \"N27\", \"M34\", \"M32\", \"M33\", \"M41\", \"M39\", \"M40\", \"M42\", \"M49\", \"M47\", \"M48\", \"M56\", \"M54\", \"M55\", \"M63\", \"M61\", \"M62\", \"L70\", \"L68\", \"L69\", \"L77\", \"L75\", \"L76\", \"L84\", \"L82\", \"L83\", \"L91\", \"L89\", \"L90\", \"L98\", \"L96\", \"L97\", \"L105\", \"L103\", \"L104\", \"L112\", \"L110\", \"L111\", \"N114\", \"N116\", \"N118\", \"N120\", \"N122\"],\n  f4: [\"B6\", \"B12\", \"B10\", \"B101\", \"B14\", \"B26\", \"B16\", \"B18\", \"B19\", \"B20\", \"B21\", \"B22\", \"B23\", \"B24\", \"B25\", \"B27\", \"B34\", \"B32\", \"B33\", \"B41\", \"B39\", \"B40\", \"B42\", \"B49\", \"B47\", \"B48\", \"B56\", \"B54\", \"B55\", \"B63\", \"B61\", \"B62\", \"B70\", \"B68\", \"B69\", \"B77\", \"B75\", \"B76\", \"B84\", \"B82\", \"B83\", \"B91\", \"B89\", \"B90\", \"B98\", \"B96\", \"B97\", \"B105\", \"B103\", \"B104\", \"B112\", \"B110\", \"B111\", \"B114\", \"B116\", \"B118\", \"B120\", \"B122\"],\n  f5: [\"B6\", \"C12\", \"C10\", \"C11\", \"C14\", \"C26\", \"C16\", \"C18\", \"C19\", \"C20\", \"C21\", \"C22\", \"C23\", \"C24\", \"C25\", \"C27\", \"C34\", \"C32\", \"C33\", \"C41\", \"C39\", \"C40\", \"C42\", \"C49\", \"C47\", \"C48\", \"C56\", \"C54\", \"C55\", \"C63\", \"C61\", \"C62\", \"C70\", \"C68\", \"C69\", \"C77\", \"C75\", \"C76\", \"C84\", \"C82\", \"C83\", \"C91\", \"C89\", \"C90\", \"C98\", \"C96\", \"C97\", \"C105\", \"C103\", \"C104\", \"C112\", \"C110\", \"C111\", \"B114\", \"B116\", \"B118\", \"B120\", \"B122\"],\n  f6: [\"B6\", \"D12\", \"D10\", \"D11\", \"D14\", \"D26\", \"D16\", \"D18\", \"D19\", \"D20\", \"D21\", \"D22\", \"D23\", \"D24\", \"D25\", \"D27\", \"D34\", \"D32\", \"D33\", \"D41\", \"D39\", \"D40\", \"D42\", \"D49\", \"D47\", \"D48\", \"D56\", \"D54\", \"D55\", \"D63\", \"D61\", \"D62\", \"D70\", \"D68\", \"D69\", \"D77\", \"D75\", \"D76\", \"D84\", \"D82\", \"D83\", \"D91\", \"D89\", \"D90\", \"D98\", \"D96\", \"D97\", \"D105\", \"D103\", \"D104\", \"D112\", \"D110\", \"D111\", \"B114\", \"B116\", \"B118\", \"B120\", \"B122\"],\n  f7: [\"E6\", \"E12\", \"E10\", \"E11\", \"E14\", \"E26\", \"E16\", \"E18\", \"E19\", \"E20\", \"E21\", \"E22\", \"E23\", \"E24\", \"E25\", \"E27\", \"E34\", \"E32\", \"E33\", \"E41\", \"E39\", \"E40\", \"E42\", \"E49\", \"E47\", \"E48\", \"E56\", \"E54\", \"E55\", \"E63\", \"E61\", \"E62\", \"E70\", \"E68\", \"E69\", \"E77\", \"E75\", \"E76\", \"E84\", \"E82\", \"E83\", \"E91\", \"E89\", \"E90\", \"E98\", \"E96\", \"E97\", \"E105\", \"E103\", \"E104\", \"E112\", \"E110\", \"E111\", \"E114\", \"E116\", \"E118\", \"E120\", \"E122\"],\n  f8: [\"E6\", \"F12\", \"F10\", \"F11\", \"F14\", \"F26\", \"F16\", \"F18\", \"F19\", \"F20\", \"F21\", \"F22\", \"F23\", \"F24\", \"F25\", \"F27\", \"F34\", \"F32\", \"F33\", \"F41\", \"F39\", \"F40\", \"F42\", \"F49\", \"F47\", \"F48\", \"F56\", \"F54\", \"F55\", \"F63\", \"F61\", \"F62\", \"F70\", \"F68\", \"F69\", \"F77\", \"F75\", \"F76\", \"F84\", \"F82\", \"F83\", \"F91\", \"F89\", \"F90\", \"F98\", \"F96\", \"F97\", \"F105\", \"F103\", \"F104\", \"F112\", \"F110\", \"F111\", \"E114\", \"E116\", \"E118\", \"E120\", \"E122\"],\n  f9: [\"E6\", \"G12\", \"G10\", \"G11\", \"G14\", \"G26\", \"G16\", \"G18\", \"G19\", \"G20\", \"G21\", \"G22\", \"G23\", \"G24\", \"G25\", \"G27\", \"G34\", \"G32\", \"G33\", \"G41\", \"G39\", \"G40\", \"G42\", \"G49\", \"G47\", \"G48\", \"G56\", \"G54\", \"G55\", \"G63\", \"G61\", \"G62\", \"G70\", \"G68\", \"G69\", \"G77\", \"G75\", \"G76\", \"G84\", \"G82\", \"G83\", \"G91\", \"G89\", \"G90\", \"G98\", \"G96\", \"G97\", \"G105\", \"G103\", \"G104\", \"G112\", \"G110\", \"G111\", \"E114\", \"E116\", \"E118\", \"E120\", \"E122\"],\n  f10: [\"H6\", \"H12\", \"H10\", \"H11\", \"H14\", \"H26\", \"H16\", \"H18\", \"H19\", \"H20\", \"H21\", \"H22\", \"H23\", \"H24\", \"H25\", \"H27\", \"H34\", \"H32\", \"H33\", \"H41\", \"H39\", \"H40\", \"H42\", \"H49\", \"H47\", \"H48\", \"H56\", \"H54\", \"H55\", \"H63\", \"H61\", \"H62\", \"H70\", \"H68\", \"H69\", \"H77\", \"H75\", \"H76\", \"H84\", \"H82\", \"H83\", \"H91\", \"H89\", \"H90\", \"H98\", \"H96\", \"H97\", \"H105\", \"H103\", \"H104\", \"H112\", \"H110\", \"H111\", \"H114\", \"H116\", \"H118\", \"H120\", \"H122\"],\n  f11: [\"H6\", \"I12\", \"I10\", \"I11\", \"I14\", \"I26\", \"I16\", \"I18\", \"I19\", \"I20\", \"I21\", \"I22\", \"I23\", \"I24\", \"I25\", \"I27\", \"I34\", \"I32\", \"I33\", \"I41\", \"I39\", \"I40\", \"I42\", \"I49\", \"I47\", \"I48\", \"I56\", \"I54\", \"I55\", \"I63\", \"I61\", \"I62\", \"I70\", \"I68\", \"I69\", \"I77\", \"I75\", \"I76\", \"I84\", \"I82\", \"I83\", \"I91\", \"I89\", \"I90\", \"I98\", \"I96\", \"I97\", \"I105\", \"I103\", \"I104\", \"I112\", \"I110\", \"I111\", \"H114\", \"H116\", \"H118\", \"H120\", \"H122\"],\n  f12: [\"H6\", \"J12\", \"J10\", \"J11\", \"J14\", \"J26\", \"J16\", \"J18\", \"J19\", \"J20\", \"J21\", \"J22\", \"J23\", \"J24\", \"J25\", \"J27\", \"J34\", \"J32\", \"J33\", \"J41\", \"J39\", \"J40\", \"J42\", \"J49\", \"J47\", \"J48\", \"J56\", \"J54\", \"J55\", \"J63\", \"J61\", \"J62\", \"J70\", \"J68\", \"J69\", \"J77\", \"J75\", \"J76\", \"J84\", \"J82\", \"J83\", \"J91\", \"J89\", \"J90\", \"J98\", \"J96\", \"J97\", \"J105\", \"J103\", \"J104\", \"J112\", \"J110\", \"J111\", \"H114\", \"H116\", \"H118\", \"H120\", \"H122\"]\n};\nfunction toLOrder(arr) {\n  if (!Array.isArray(arr)) return undefined;\n  return arr.map(k => `L${String(k).replace(/^[A-Za-z]+/, \"\")}`);\n}\nconst ORDER_BY_VARIANT = Object.fromEntries(_c2 = Object.entries(ORDER_BY_VARIANT_RAW).map(_c = ([k, v]) => [k, toLOrder(v)]));\n\n// === Variable de control por variante ===\n_c3 = ORDER_BY_VARIANT;\nfunction pickControlForVariant(variant, ctx, raw) {\n  const isFiniteNum = v => typeof v === \"number\" && Number.isFinite(v);\n  switch (variant) {\n    // Pastoreo → P8\n    case \"f1\":\n    case \"f2\":\n    case \"f3\":\n      {\n        const val = isFiniteNum(raw === null || raw === void 0 ? void 0 : raw.P8) ? raw.P8 : computeP8(ctx);\n        return {\n          controlKey: \"P8\",\n          controlValue: val\n        };\n      }\n    // Estabulación Cebú → P14\n    case \"f4\":\n    case \"f5\":\n    case \"f6\":\n      {\n        const val = isFiniteNum(raw === null || raw === void 0 ? void 0 : raw.P14) ? raw.P14 : computeP14(ctx);\n        return {\n          controlKey: \"P14\",\n          controlValue: val\n        };\n      }\n    // Estabulación Cruzado Carne → Q14\n    case \"f7\":\n    case \"f8\":\n    case \"f9\":\n      {\n        const val = isFiniteNum(raw === null || raw === void 0 ? void 0 : raw.Q14) ? raw.Q14 : computeQ14(ctx);\n        return {\n          controlKey: \"Q14\",\n          controlValue: val\n        };\n      }\n    // Estabulación Cruzado Leche → R14\n    case \"f10\":\n    case \"f11\":\n    case \"f12\":\n      {\n        const val = isFiniteNum(raw === null || raw === void 0 ? void 0 : raw.R14) ? raw.R14 : computeR14(ctx);\n        return {\n          controlKey: \"R14\",\n          controlValue: val\n        };\n      }\n    default:\n      return {\n        controlKey: undefined,\n        controlValue: undefined\n      };\n  }\n}\n\n// === Función principal (router) ===\nexport async function computeFormulasBySelection(selection, ctx) {\n  const key = buildKey(selection);\n  const entry = FORMULA_MAP[key] || FORMULA_MAP[\"cebu|pastoreo|macho_entero\"];\n  const mod = await entry.loader();\n  const calcFn = mod.calcularFormulas || mod.default;\n  if (typeof calcFn !== \"function\") {\n    throw new Error(\"El módulo de fórmulas no expone una función válida.\");\n  }\n\n  // 1) Ejecuta la fórmula (puede devolver L*/M*/N*/B*…)\n  const raw = calcFn(ctx);\n\n  // 2) Normaliza SIEMPRE a L6..L122\n  const resultados = normalizeRawToL(raw);\n  if (!resultados || typeof resultados !== \"object\" || !(\"L6\" in resultados) || !(\"L122\" in resultados)) {\n    throw new Error(\"La fórmula no retornó las claves normalizadas esperadas (L6…L122).\");\n  }\n\n  // 3) Variable de control (para visibilidad de filas 4/5 en la vista)\n  const {\n    controlKey,\n    controlValue\n  } = pickControlForVariant(entry.variant, ctx, raw);\n\n  // 4) Orden por variante (si no hay, la vista usará DEFAULT_OUTPUT_KEYS)\n  const order = Array.isArray(ORDER_BY_VARIANT[entry.variant]) && ORDER_BY_VARIANT[entry.variant].length ? ORDER_BY_VARIANT[entry.variant] : undefined;\n  return {\n    resultados,\n    controlKey,\n    controlValue,\n    order,\n    variant: entry.variant\n  };\n}\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"ORDER_BY_VARIANT$Object.fromEntries$Object.entries(ORDER_BY_VARIANT_RAW).map\");\n$RefreshReg$(_c2, \"ORDER_BY_VARIANT$Object.fromEntries\");\n$RefreshReg$(_c3, \"ORDER_BY_VARIANT\");","map":{"version":3,"names":["DEFAULT_OUTPUT_KEYS","buildKey","raza","sistema","sexo","r","String","trim","toLowerCase","s","x","PREFIX_PRIORITY","normalizeRawToL","raw","out","n","val","pre","k","undefined","Number","isNaN","computeR3","ctx","P3","Q3","computeP8","R3","Math","pow","computeP14","computeQ14","computeR14","FORMULA_MAP","loader","variant","ORDER_BY_VARIANT_RAW","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","toLOrder","arr","Array","isArray","map","replace","ORDER_BY_VARIANT","Object","fromEntries","_c2","entries","_c","v","_c3","pickControlForVariant","isFiniteNum","isFinite","P8","controlKey","controlValue","P14","Q14","R14","computeFormulasBySelection","selection","key","entry","mod","calcFn","calcularFormulas","default","Error","resultados","order","length","$RefreshReg$"],"sources":["C:/Users/maico/OneDrive/Documentos/a/backend/src/models/formulas/index.js"],"sourcesContent":["// src/models/formulas/index.js\r\n\r\n// === Orden por defecto (fallback) en la vista si una variante no define el suyo ===\r\nconst DEFAULT_OUTPUT_KEYS = [\r\n    \"L6\", \"L12\", \"L10\", \"L11\", \"L14\", \"L26\", \"L16\", \"L18\", \"L19\", \"L20\", \"L21\", \"L22\",\r\n    \"L23\", \"L24\", \"L25\", \"L27\", \"L34\", \"L32\", \"L33\", \"L41\", \"L39\", \"L40\", \"L42\", \"L49\",\r\n    \"L47\", \"L48\", \"L56\", \"L54\", \"L55\", \"L63\", \"L61\", \"L62\", \"L70\", \"L68\", \"L69\", \"L77\",\r\n    \"L75\", \"L76\", \"L84\", \"L82\", \"L83\", \"L91\", \"L89\", \"L90\", \"L98\", \"L96\", \"L97\", \"L105\",\r\n    \"L103\", \"L104\", \"L112\", \"L110\", \"L111\", \"L114\", \"L116\", \"L118\", \"L120\", \"L122\"\r\n];\r\n\r\n// === Helpers: construir clave de selección\r\nfunction buildKey({ raza, sistema, sexo }) {\r\n    const r = String(raza || \"\").trim().toLowerCase();\r\n    const s = String(sistema || \"\").trim().toLowerCase();\r\n    const x = String(sexo || \"\").trim().toLowerCase();\r\n    return `${r}|${s}|${x}`;\r\n}\r\n\r\n// === Normalizador universal: convierte cualquier prefijo a Lnn (L tiene prioridad)\r\nconst PREFIX_PRIORITY = [\"L\", \"M\", \"N\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\"];\r\nfunction normalizeRawToL(raw) {\r\n    const out = {};\r\n    for (let n = 6; n <= 122; n++) {\r\n        let val;\r\n        for (const pre of PREFIX_PRIORITY) {\r\n            const k = `${pre}${n}`;\r\n            if (raw[k] !== undefined) { val = raw[k]; break; }\r\n        }\r\n        if (typeof val === \"string\" && val.trim() !== \"\" && !Number.isNaN(+val)) val = +val;\r\n        out[`L${n}`] = val;\r\n    }\r\n    return out;\r\n}\r\n\r\n// === Helpers para variables de control (P8 / P14 / Q14 / R14)\r\nfunction computeR3(ctx) { const { P3, Q3 } = ctx; return (Number(P3) + Number(Q3)) / 2; }\r\nfunction computeP8(ctx) { const R3 = computeR3(ctx); return 0.8915 * Math.pow(R3, 1.0151); }\r\nfunction computeP14(ctx) { const R3 = computeR3(ctx); return 0.8915 * Math.pow(R3, 1.0151); }\r\nfunction computeQ14(ctx) { const R3 = computeR3(ctx); return 0.8915 * Math.pow(R3, 1.0151); }\r\nfunction computeR14(ctx) { const R3 = computeR3(ctx); return 0.9247 * Math.pow(R3, 1.0085); }\r\n\r\n// === Mapa de fórmulas por selección\r\nconst FORMULA_MAP = {\r\n    // f1 — Cebú / Pastoreo\r\n    \"cebu|pastoreo|macho_entero\": { loader: () => import(\"./f1.model.js\"), variant: \"f1\" },\r\n    \"cebu|pastoreo|macho_castrado\": { loader: () => import(\"./f1.model.js\"), variant: \"f1\" },\r\n    \"cebu|pastoreo|hembra\": { loader: () => import(\"./f1.model.js\"), variant: \"f1\" },\r\n\r\n    // f2 — Cruzado Carne / Pastoreo\r\n    \"cruzadocarne|pastoreo|macho_entero\": { loader: () => import(\"./f2.model.js\"), variant: \"f2\" },\r\n    \"cruzadocarne|pastoreo|macho_castrado\": { loader: () => import(\"./f2.model.js\"), variant: \"f2\" },\r\n    \"cruzadocarne|pastoreo|hembra\": { loader: () => import(\"./f2.model.js\"), variant: \"f2\" },\r\n\r\n    // f3 — Cruzado Leche / Pastoreo\r\n    \"cruzadoleche|pastoreo|macho_entero\": { loader: () => import(\"./f3.model.js\"), variant: \"f3\" },\r\n    \"cruzadoleche|pastoreo|macho_castrado\": { loader: () => import(\"./f3.model.js\"), variant: \"f3\" },\r\n    \"cruzadoleche|pastoreo|hembra\": { loader: () => import(\"./f3.model.js\"), variant: \"f3\" },\r\n\r\n    // f4 — Cebú / Estabulación\r\n    \"cebu|estabulacion|macho_entero\": { loader: () => import(\"./f4.model.js\"), variant: \"f4\" },\r\n    // f5 — Cebú / Estabulación\r\n    \"cebu|estabulacion|macho_castrado\": { loader: () => import(\"./f5.model.js\"), variant: \"f5\" },\r\n    // f6 — Cebú / Estabulación  ← NUEVO\r\n    \"cebu|estabulacion|hembra\": { loader: () => import(\"./f6.model.js\"), variant: \"f6\" },\r\n\r\n    // f7–f9 — Cruzado Carne / Estabulación  ← NUEVOS\r\n    \"cruzadocarne|estabulacion|macho_entero\": { loader: () => import(\"./f7.model.js\"), variant: \"f7\" },\r\n    \"cruzadocarne|estabulacion|macho_castrado\": { loader: () => import(\"./f8.model.js\"), variant: \"f8\" },\r\n    \"cruzadocarne|estabulacion|hembra\": { loader: () => import(\"./f9.model.js\"), variant: \"f9\" },\r\n\r\n    // f10–f12 — Cruzado Leche / Estabulación  ← NUEVOS\r\n    \"cruzadoleche|estabulacion|macho_entero\": { loader: () => import(\"./f10.model.js\"), variant: \"f10\" },\r\n    \"cruzadoleche|estabulacion|macho_castrado\": { loader: () => import(\"./f11.model.js\"), variant: \"f11\" },\r\n    \"cruzadoleche|estabulacion|hembra\": { loader: () => import(\"./f12.model.js\"), variant: \"f12\" },\r\n};\r\n\r\n// === Orden por variante ===\r\n// f1 ya definido con L*; f4 definido con tu lista B* (convertida a L*). Añade f5…f12 cuando tengas sus órdenes.\r\nconst ORDER_BY_VARIANT_RAW = {\r\n    f1: [\r\n        \"L6\", \"L12\", \"L10\", \"L11\", \"L14\", \"L26\",\r\n        \"L16\", \"L18\", \"L19\", \"L20\", \"L21\", \"L22\",\r\n        \"L23\", \"L24\", \"L25\", \"L27\", \"L34\", \"L32\",\r\n        \"L33\", \"L41\", \"L39\", \"L40\", \"L42\", \"L49\",\r\n        \"L47\", \"L48\", \"L56\", \"L54\", \"L55\", \"L63\",\r\n        \"L61\", \"L62\", \"L70\", \"L68\", \"L69\", \"L77\",\r\n        \"L75\", \"L76\", \"L84\", \"L82\", \"L83\", \"L91\",\r\n        \"L89\", \"L90\", \"L98\", \"L96\", \"L97\", \"L105\",\r\n        \"L103\", \"L104\", \"L112\", \"L110\", \"L111\",\r\n        \"L114\", \"L116\", \"L118\", \"L120\", \"L122\"\r\n    ],\r\n    f2: [\"M6\", \"L12\", \"L10\", \"L11\", \"M14\", \"M26\",\r\n        \"M16\", \"L18\", \"L19\", \"M20\", \"M21\", \"M22\",\r\n        \"M23\", \"M24\", \"M25\", \"M27\", \"M34\", \"M32\",\r\n        \"M33\", \"M41\", \"M39\", \"M40\", \"M42\", \"M49\",\r\n        \"M47\", \"M48\", \"M56\", \"M54\", \"M55\", \"M63\",\r\n        \"M61\", \"M62\", \"L70\", \"L68\", \"L69\", \"L77\",\r\n        \"L75\", \"L76\", \"L84\", \"L82\", \"L83\", \"L91\",\r\n        \"L89\", \"L90\", \"L98\", \"L96\", \"L97\", \"L105\",\r\n        \"L103\", \"L104\", \"L112\", \"L110\", \"L111\",\r\n        \"M114\", \"M116\", \"M118\", \"M120\", \"M122\"],\r\n    f3: [\"N6\", \"L12\", \"L10\", \"L11\", \"M14\", \"N26\", \"N16\", \"L18\", \"L19\",\r\n        \"N20\", \"N21\", \"N22\", \"N23\", \"N24\", \"N25\", \"N27\",\r\n        \"M34\", \"M32\", \"M33\", \"M41\", \"M39\", \"M40\", \"M42\",\r\n        \"M49\", \"M47\", \"M48\", \"M56\", \"M54\", \"M55\", \"M63\",\r\n        \"M61\", \"M62\", \"L70\", \"L68\", \"L69\", \"L77\", \"L75\",\r\n        \"L76\", \"L84\", \"L82\", \"L83\", \"L91\", \"L89\", \"L90\",\r\n        \"L98\", \"L96\", \"L97\", \"L105\", \"L103\", \"L104\", \"L112\",\r\n        \"L110\", \"L111\", \"N114\", \"N116\", \"N118\", \"N120\", \"N122\"],\r\n    f4: [\r\n        \"B6\", \"B12\", \"B10\", \"B101\", \"B14\", \"B26\",\r\n        \"B16\", \"B18\", \"B19\", \"B20\", \"B21\", \"B22\",\r\n        \"B23\", \"B24\", \"B25\", \"B27\", \"B34\", \"B32\",\r\n        \"B33\", \"B41\", \"B39\", \"B40\", \"B42\", \"B49\",\r\n        \"B47\", \"B48\", \"B56\", \"B54\", \"B55\", \"B63\",\r\n        \"B61\", \"B62\", \"B70\", \"B68\", \"B69\", \"B77\",\r\n        \"B75\", \"B76\", \"B84\", \"B82\", \"B83\", \"B91\",\r\n        \"B89\", \"B90\", \"B98\", \"B96\", \"B97\", \"B105\",\r\n        \"B103\", \"B104\", \"B112\", \"B110\", \"B111\",\r\n        \"B114\", \"B116\", \"B118\", \"B120\", \"B122\"\r\n    ],\r\n    f5: [\"B6\", \"C12\", \"C10\", \"C11\", \"C14\", \"C26\", \"C16\", \"C18\", \"C19\", \"C20\",\r\n        \"C21\", \"C22\", \"C23\", \"C24\", \"C25\", \"C27\", \"C34\", \"C32\", \"C33\", \"C41\",\r\n        \"C39\", \"C40\", \"C42\", \"C49\", \"C47\", \"C48\", \"C56\", \"C54\", \"C55\", \"C63\",\r\n        \"C61\", \"C62\", \"C70\", \"C68\", \"C69\", \"C77\", \"C75\", \"C76\", \"C84\", \"C82\",\r\n        \"C83\", \"C91\", \"C89\", \"C90\", \"C98\", \"C96\", \"C97\", \"C105\", \"C103\", \"C104\",\r\n        \"C112\", \"C110\", \"C111\", \"B114\", \"B116\", \"B118\", \"B120\", \"B122\"],\r\n    f6: [\"B6\", \"D12\", \"D10\", \"D11\", \"D14\", \"D26\", \"D16\", \"D18\", \"D19\", \"D20\",\r\n        \"D21\", \"D22\", \"D23\", \"D24\", \"D25\", \"D27\", \"D34\", \"D32\", \"D33\", \"D41\",\r\n        \"D39\", \"D40\", \"D42\", \"D49\", \"D47\", \"D48\", \"D56\", \"D54\", \"D55\", \"D63\",\r\n        \"D61\", \"D62\", \"D70\", \"D68\", \"D69\", \"D77\", \"D75\", \"D76\", \"D84\", \"D82\",\r\n        \"D83\", \"D91\", \"D89\", \"D90\", \"D98\", \"D96\", \"D97\", \"D105\", \"D103\", \"D104\",\r\n        \"D112\", \"D110\", \"D111\", \"B114\", \"B116\", \"B118\", \"B120\", \"B122\"],\r\n    f7: [\"E6\",\r\n        \"E12\", \"E10\", \"E11\", \"E14\", \"E26\",\r\n        \"E16\", \"E18\", \"E19\", \"E20\", \"E21\",\r\n        \"E22\", \"E23\", \"E24\", \"E25\", \"E27\",\r\n        \"E34\", \"E32\", \"E33\", \"E41\", \"E39\", \"E40\", \"E42\",\r\n        \"E49\", \"E47\", \"E48\", \"E56\", \"E54\", \"E55\", \"E63\", \"E61\", \"E62\",\r\n        \"E70\", \"E68\", \"E69\", \"E77\", \"E75\", \"E76\", \"E84\", \"E82\", \"E83\",\r\n        \"E91\", \"E89\", \"E90\", \"E98\", \"E96\", \"E97\", \"E105\", \"E103\", \"E104\",\r\n        \"E112\", \"E110\", \"E111\",\r\n        \"E114\", \"E116\", \"E118\", \"E120\", \"E122\"],\r\n    f8: [\"E6\",\r\n        \"F12\", \"F10\", \"F11\", \"F14\", \"F26\",\r\n        \"F16\", \"F18\", \"F19\", \"F20\", \"F21\",\r\n        \"F22\", \"F23\", \"F24\", \"F25\", \"F27\",\r\n        \"F34\", \"F32\", \"F33\", \"F41\", \"F39\", \"F40\", \"F42\",\r\n        \"F49\", \"F47\", \"F48\", \"F56\", \"F54\", \"F55\", \"F63\", \"F61\", \"F62\",\r\n        \"F70\", \"F68\", \"F69\", \"F77\", \"F75\", \"F76\", \"F84\", \"F82\", \"F83\",\r\n        \"F91\", \"F89\", \"F90\", \"F98\", \"F96\", \"F97\", \"F105\", \"F103\", \"F104\",\r\n        \"F112\", \"F110\", \"F111\",\r\n        \"E114\", \"E116\", \"E118\", \"E120\", \"E122\"],\r\n    f9: [\"E6\",\r\n        \"G12\", \"G10\", \"G11\", \"G14\", \"G26\",\r\n        \"G16\", \"G18\", \"G19\", \"G20\", \"G21\",\r\n        \"G22\", \"G23\", \"G24\", \"G25\", \"G27\",\r\n        \"G34\", \"G32\", \"G33\", \"G41\", \"G39\", \"G40\", \"G42\",\r\n        \"G49\", \"G47\", \"G48\", \"G56\", \"G54\", \"G55\", \"G63\", \"G61\", \"G62\",\r\n        \"G70\", \"G68\", \"G69\", \"G77\", \"G75\", \"G76\", \"G84\", \"G82\", \"G83\",\r\n        \"G91\", \"G89\", \"G90\", \"G98\", \"G96\", \"G97\", \"G105\", \"G103\", \"G104\",\r\n        \"G112\", \"G110\", \"G111\",\r\n        \"E114\", \"E116\", \"E118\", \"E120\", \"E122\"],\r\n    f10: [\"H6\",\r\n        \"H12\", \"H10\", \"H11\", \"H14\", \"H26\",\r\n        \"H16\", \"H18\", \"H19\", \"H20\", \"H21\",\r\n        \"H22\", \"H23\", \"H24\", \"H25\", \"H27\",\r\n        \"H34\", \"H32\", \"H33\", \"H41\", \"H39\", \"H40\", \"H42\",\r\n        \"H49\", \"H47\", \"H48\", \"H56\", \"H54\", \"H55\", \"H63\", \"H61\", \"H62\",\r\n        \"H70\", \"H68\", \"H69\", \"H77\", \"H75\", \"H76\", \"H84\", \"H82\", \"H83\",\r\n        \"H91\", \"H89\", \"H90\", \"H98\", \"H96\", \"H97\", \"H105\", \"H103\", \"H104\",\r\n        \"H112\", \"H110\", \"H111\",\r\n        \"H114\", \"H116\", \"H118\", \"H120\", \"H122\"],\r\n    f11: [\"H6\",\r\n        \"I12\", \"I10\", \"I11\", \"I14\", \"I26\",\r\n        \"I16\", \"I18\", \"I19\", \"I20\", \"I21\",\r\n        \"I22\", \"I23\", \"I24\", \"I25\", \"I27\",\r\n        \"I34\", \"I32\", \"I33\", \"I41\", \"I39\", \"I40\", \"I42\",\r\n        \"I49\", \"I47\", \"I48\", \"I56\", \"I54\", \"I55\", \"I63\", \"I61\", \"I62\",\r\n        \"I70\", \"I68\", \"I69\", \"I77\", \"I75\", \"I76\", \"I84\", \"I82\", \"I83\",\r\n        \"I91\", \"I89\", \"I90\", \"I98\", \"I96\", \"I97\", \"I105\", \"I103\", \"I104\",\r\n        \"I112\", \"I110\", \"I111\",\r\n        \"H114\", \"H116\", \"H118\", \"H120\", \"H122\"],\r\n    f12: [\"H6\",\r\n        \"J12\", \"J10\", \"J11\", \"J14\", \"J26\",\r\n        \"J16\", \"J18\", \"J19\", \"J20\", \"J21\",\r\n        \"J22\", \"J23\", \"J24\", \"J25\", \"J27\",\r\n        \"J34\", \"J32\", \"J33\", \"J41\", \"J39\", \"J40\", \"J42\",\r\n        \"J49\", \"J47\", \"J48\", \"J56\", \"J54\", \"J55\", \"J63\", \"J61\", \"J62\",\r\n        \"J70\", \"J68\", \"J69\", \"J77\", \"J75\", \"J76\", \"J84\", \"J82\", \"J83\",\r\n        \"J91\", \"J89\", \"J90\", \"J98\", \"J96\", \"J97\", \"J105\", \"J103\", \"J104\",\r\n        \"J112\", \"J110\", \"J111\",\r\n        \"H114\", \"H116\", \"H118\", \"H120\", \"H122\"],\r\n};\r\n\r\nfunction toLOrder(arr) {\r\n    if (!Array.isArray(arr)) return undefined;\r\n    return arr.map(k => `L${String(k).replace(/^[A-Za-z]+/, \"\")}`);\r\n}\r\nconst ORDER_BY_VARIANT = Object.fromEntries(\r\n    Object.entries(ORDER_BY_VARIANT_RAW).map(([k, v]) => [k, toLOrder(v)])\r\n);\r\n\r\n// === Variable de control por variante ===\r\nfunction pickControlForVariant(variant, ctx, raw) {\r\n    const isFiniteNum = (v) => typeof v === \"number\" && Number.isFinite(v);\r\n    switch (variant) {\r\n        // Pastoreo → P8\r\n        case \"f1\":\r\n        case \"f2\":\r\n        case \"f3\": {\r\n            const val = isFiniteNum(raw?.P8) ? raw.P8 : computeP8(ctx);\r\n            return { controlKey: \"P8\", controlValue: val };\r\n        }\r\n        // Estabulación Cebú → P14\r\n        case \"f4\":\r\n        case \"f5\":\r\n        case \"f6\": {\r\n            const val = isFiniteNum(raw?.P14) ? raw.P14 : computeP14(ctx);\r\n            return { controlKey: \"P14\", controlValue: val };\r\n        }\r\n        // Estabulación Cruzado Carne → Q14\r\n        case \"f7\":\r\n        case \"f8\":\r\n        case \"f9\": {\r\n            const val = isFiniteNum(raw?.Q14) ? raw.Q14 : computeQ14(ctx);\r\n            return { controlKey: \"Q14\", controlValue: val };\r\n        }\r\n        // Estabulación Cruzado Leche → R14\r\n        case \"f10\":\r\n        case \"f11\":\r\n        case \"f12\": {\r\n            const val = isFiniteNum(raw?.R14) ? raw.R14 : computeR14(ctx);\r\n            return { controlKey: \"R14\", controlValue: val };\r\n        }\r\n        default:\r\n            return { controlKey: undefined, controlValue: undefined };\r\n    }\r\n}\r\n\r\n// === Función principal (router) ===\r\nexport async function computeFormulasBySelection(selection, ctx) {\r\n    const key = buildKey(selection);\r\n    const entry = FORMULA_MAP[key] || FORMULA_MAP[\"cebu|pastoreo|macho_entero\"];\r\n    const mod = await entry.loader();\r\n\r\n    const calcFn = mod.calcularFormulas || mod.default;\r\n    if (typeof calcFn !== \"function\") {\r\n        throw new Error(\"El módulo de fórmulas no expone una función válida.\");\r\n    }\r\n\r\n    // 1) Ejecuta la fórmula (puede devolver L*/M*/N*/B*…)\r\n    const raw = calcFn(ctx);\r\n\r\n    // 2) Normaliza SIEMPRE a L6..L122\r\n    const resultados = normalizeRawToL(raw);\r\n    if (!resultados || typeof resultados !== \"object\" || !(\"L6\" in resultados) || !(\"L122\" in resultados)) {\r\n        throw new Error(\"La fórmula no retornó las claves normalizadas esperadas (L6…L122).\");\r\n    }\r\n\r\n    // 3) Variable de control (para visibilidad de filas 4/5 en la vista)\r\n    const { controlKey, controlValue } = pickControlForVariant(entry.variant, ctx, raw);\r\n\r\n    // 4) Orden por variante (si no hay, la vista usará DEFAULT_OUTPUT_KEYS)\r\n    const order =\r\n        Array.isArray(ORDER_BY_VARIANT[entry.variant]) && ORDER_BY_VARIANT[entry.variant].length\r\n            ? ORDER_BY_VARIANT[entry.variant]\r\n            : undefined;\r\n\r\n    return { resultados, controlKey, controlValue, order, variant: entry.variant };\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}